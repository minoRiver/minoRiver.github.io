---
layout: single
title:  "[유니티 그래픽스 최적화 스타트업 정리] 라이트 프로브"
author_profile: false
tag : [유니티 최적화]
categories : 유니티 최적화
typora-root-url: ../
---

> ## 개요

이 글은 "[유니티 그래픽스 최적화 스타트업](https://product.kyobobook.co.kr/detail/S000001888125)"이라는 책을 보고 정리한 글입니다.

오늘은 라이트 최적화 방법 중 하나인 라이트 프로브에 대해서 조사하고 정리했습니다.



> ## 라이트 프로브(Light Probe)란?

자연스러운 라이팅을 저렴한 비용으로 처리해줄 수 있는 기법으로 정적 오브젝트에만 적용 가능합니다. 만약 실내 씬에서 배경의 라이트 색과 밝기가 다른 것과 상관 없이  캐릭터가 항상 동일한 라이트 색과 밝기를 가진다면 이질감이 생길 수 밖에 없습니다. 그리고 야외에서도 캐릭터가 건물의 그림자 속으로 들어간다면 같이 어두워져야 합니다.

이러한 문제점들을 해결하기 위해 동적 라이트를 배치할 수도 있습니다. 하지만 동적 라이트를 배치하게 되면 많은 성능을 필요로 하게 됩니다. 이럴 때 사용할 수 있는 것이 라이트 프로브입니다. 라이트 프로브는 라이트맵과 마찬가지로 미리 라이트 연산을 저장해 놓았다가 런타임에 반영해주는 기능입니다. 하지만 라이트맵과 다른 점이 있는데, 라이트맵은 오브젝트 표면에 영향을 주는 라이팅 정보를 저장하는 것이지만 라이트 프로브는 라이팅이 지나가는 공간의 라이팅 연산을 저장해두었다가 그 공간에 위치하는 동적 오브젝트에 라이팅을 반영하는 것입니다.



아래 사진을 보시면 주변 환경에 상관없이 똑같은 색으로 출력되어 어색한 것을 확인할 수 있습니다.

![image-20230712164207028](/images/2023-07-12-third/image-20230712164207028.png)

<br>

하지만 라이트 프로브를 적용시키면 아래 사진처럼 주변 라이팅에 영향을 받아 어색한 것이 없어진 것을 확인할 수 있습니다.

![image-20230712164315230](/images/2023-07-12-third/image-20230712164315230.png)

씬에 배치된 라이트 프로브는 아래 사진과 같습니다.

![image-20230712164335772](/images/2023-07-12-third/image-20230712164335772.png)
