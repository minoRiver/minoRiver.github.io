---
layout: single
title:  "[유니티 그래픽스 최적화 스타트업 정리] 렌더링과 GPU"
author_profile: false
tag : [유니티 최적화]
categories : 유니티 최적화
typora-root-url: ../
---

> ## 개요

이 글은 "[유니티 그래픽스 최적화 스타트업](https://product.kyobobook.co.kr/detail/S000001888125)"이라는 책을 보고 정리한 글입니다.

최근에 나오는 게임들은 대부분 화려한 그래픽을 자랑합니다. 아래 사진은 "언레코드" 게임의 한 장면인데 사실적인 그래픽으로 현실과 거의 유사합니다. 

![언레코즈](/images/2023-07-10-second/언레코즈.png)

위의 사진 같은 장면을 컴퓨터가 어떻게 그리는 것일까요? 오늘은 컴퓨터가 저런 씬을 그리는 것과 관련된 렌더링 및 렌더링 작업을 전문적으로 처리하는 GPU와 렌더링 파이프라인에 대해 공부하여 정리했습니다.



> ## 렌더링(Rendering)이란?

렌더링이란 컴퓨터가 주어진 데이터를 기반으로 이미지를 만들어 내는 과정입니다. 쉽게 말하면, 컴퓨터가 그림을 그리는 행위입니다. 

하나의 장면을 그리려면 도형들의 위치, 텍스처, 라이트, 쉐이더 등 많은 정보들이 필요합니다. 컴퓨터 프로그램은 그래픽 관련 데이터들을 이용해서 사람이 인지할 수 있는 그래픽스 이미지를 만들어 냅니다. 이러한 이미지는 GPU가 만들어 냅니다.

렌더링은 크게 비실시간 렌더링과 실시간 렌더링으로 나뉩니다.



> ## 비실시간 렌더링(Non-Realtime Rendering)

미리 렌더링해 놓은 이미지를 프레임별로 나열하는 방식입니다. 주로 영화, 애니메이션이 이 방식으로 렌더링합니다.

원하는 장면을 만들기 위해 미리 조명, 물체, 카메라 각도 등을 세팅한 뒤 렌더링하며 미리 렌더링하는 방식이기 때문에 물리 기반 라이팅, 사실적인 그래픽 등 좀 더 고품질의 장면을 만들기 위해 많은 렌더링 시간을 사용합니다.

예를 들면 2001년 [슈렉 1]의 총 렌더링 시간은 500만 시간이였습니다. 하지만 2010년 [슈렉 포에버]에서는 렌더링 시간은 4,500만이라는 엄청난 시간으로 늘어났습니다. 이처럼 렌더링 시간은 시간이 지남에 따라 더 늘어나고 있습니다. 이 것을 '슈렉의 법칙'이라고 합니다.



> ## 실시간 렌더링(Realtime Rendering)

말 그대로 실시간으로 렌더링되는 방식을 말합니다. 게임이 이 방식으로 렌더링합니다.

게임은 영화와 다르게 유저의 입력 등에 반응해 그 결과를 화면에 보여줘야 합니다. 그렇기 때문에 미리 그려둘 수가 없어 실시간으로 렌더링하는 실시간 렌더링 방식으로 렌더링되는 것입니다.



> ## GPU(Graphics Processing Unit)란?

GPU는 그래픽 작업을 처리하기 위한 그래픽 처리 장치입니다. CPU가 GPU에게 렌더링 명령을 보내면 GPU는 그 렌더링 작업을 수행합니다.

렌더링 작업을 수행할 때 텍스처, 메시 데이터등을 저장해두고 읽어올 수 있는 GPU 메모리(VRam, Video RAM)가 있습니다. 이 메모리에는 텍스처 같은 렌더링에 필요한 데이터들이 포함되어 있으며, 렌더링 시 GPU가 이 데이터들을 참고하여 그래픽 처리를 수행합니다. 또한 렌더링의 결과를 저장하는 버퍼들도 GPU 메모리에 저장됩니다.
