---
layout: single
title:  "[유니티 그래픽스 최적화 스타트업 정리]01. 최적화란?"
author_profile: false
tag : [유니티 최적화]
categories : 유니티 최적화
typora-root-url: ../
---

> ## 개요

이 글은 "[유니티 그래픽스 최적화 스타트업](https://product.kyobobook.co.kr/detail/S000001888125)"이라는 책을 보고 정리한 글입니다.

프로그래밍 공부를 하다보면 최적화라는 말을 많이 듣습니다. 그 외에도 게임을 할 때 렉이 자주 걸리는 게임을 하다보면 최적화를 못했다는 말도 자주 듣습니다. 그렇다면 최적화가 무엇이며 왜 최적화를 해야하는지에 대해 알아봤습니다.



> ## 최적화(Optimization)란?([TTA정보통신용어사전 참고](http://terms.tta.or.kr/dictionary/dictionaryView.do?subject=%EC%B5%9C%EC%A0%81%ED%99%94))

주어진 상황에서 가장 알맞은 결과를 얻을 수 있도록 처리하는 과정입니다. 한정된 자원들을 사용해 최선의 결과를 얻는 과정이라고 말할 수 있습니다.



> ## (게임에서)최적화의 필요성

간단하게 말하자면 모든 유저의 하드웨어 성능이 제각각이며 게임은 실시간 렌더링 방식이면서 동시에 높은 FPS를 유지해야 하기 때문입니다.

만약 모든 유저가 최신 하드웨어를 사용한다면 최적화를 할 필요가 많이 줄어들 것입니다. 하지만 이는 현실적으로 불가능합니다. 모든 유저가 최신 하드웨어가 아닐 가능성이 높으며 유저마다 하드웨어 성능이 제각각이기 때문에 하드웨어 성능이 낮더라도 그 성능을 최대한으로 끌어내기 위해 최적화를 해야합니다. 그래야만 게임을 플레이할 수 있는 유저의 폭이 늘어 게임을 플레이하는 유저의 수가 늘어날 가능성이 생기기 때문입니다.

또한 게임은 유저의 상호작용에 반응해야 하며 상호작용에 반응해 처리한 결과물을 화면에 그려줘야 합니다. 유저가 어떤 입력을 할지에 대해서는 아무도 모르기 때문에 미리 그려둘 수가 없습니다. 그렇기 때문에 유저의 상호작용에 반응해 매 순간순간마다 그려줘야 하며 유저의 상호작용에 빠르게 반응해야 하기 때문에 높은 FPS를 유지해야 합니다.

이러한 이유들로 게임 개발 시 최적화 작업은 필수라고 말할 수 있습니다.

<br>

- **격투 게임의 경우 특히 더 입력에 빠르게 반응해야 합니다. 한 틱 차이로 때릴 것도 못 때릴 수 있기 때문입니다.**

![철권](/images/2023-07-10-first/철권.jpg)



> ## 게임 개발을 할 때 최적화는 언제 해야 할까?

게임 개발 과정에서 최적화 작업은 반드시 거치게 됩니다.  그만큼 최적화 작업은 매우 중요하다고 할 수 있습니다. 하지만 개발 초반 프로토타이핑 단계에서 최적화를 신경쓰는 것은 매우 비효율적입니다. 그 이유는 프로토타이핑 단계에서는 기능을 빠르게 구현해 검증하는 과정을 반복해야 하기 때문입니다. 그래서 최적화를 신경 쓰다 보면 개발 속도를 맞추기 어려워집니다. 또한 프로토타이핑 단계에서 만들어진 코드는 대부분이 버려지기 때문에 프로토타이핑 기간에 최적화를 하는 것은 매우 비효율적이라 할 수 있습니다.

그렇다고 해서 개발 막바지에 하는 것 또한 좋지 않습니다. 그 이유는 폴리곤, 텍스처, 쉐이더 같은 리소스들을 바꿔야 하는 상황이 생길 수 있기 때문입니다. 그렇게 되면 개발 막바지이기 때문에 리소스들을 바꾸게 되면 많은 시간이 필요하게 되며, 바뀐 리소스들을 검증하는 시간 또한 필요하게 됩니다. 이 때 버그라도 발생하게 되면 개발 일정에 치명적인 악영향을 끼칠 수 있기 때문에 개발 막바지에 하는 것 또한 좋지 않다고 할 수 있습니다.

따라서 최적화는 개발 초반의 프로토타이핑 단계를 제외한 모든 개발 기간 동안 항상 신경 써야 한다고 말할 수 있습니다. 작업 효율에 영향을 주지 않는 한에서는 성능에 신경을 쓰면서 작업해야 합니다. 왜냐하면, 나중에 한 번에 고치려고 하면 오히려 더 힘들어질 수 있기 때문입니다.



> ## 최적화는 누가 해야 할까?

흔히들 최적화는 프로그래머의 몫이라 생각합니다. 물론 로직이나 물리 등 프로그래밍적인 요소는 당연히 프로그래머의 몫입니다. 하지만 최적화는 프로그래머, 이트스트 모두 신경 써야 하며 기획자 또한 어느 정도의 책임이 있습니다.

프로그래머는 로직, 물리 같은 프로그래밍적인 요소를 최적화해야 합니다. 아티스트의 경우 그래픽 에셋 또한 성능에 큰 영향을 미치기 때문에 이러한 그래픽 에셋을 신경 써서 만들어야 합니다.

마지막으로 기획자의 경우 레벨 디자이너를 예시로 들면 많은 오브젝트들이 배치된 씬에 다수의 몬스터와 플레이어들이 많이 모일 수 밖에 없는 레벨 디자인을 하게 되면 렌더링할 요소들이 많아지며 애니메이션 연산 또한 많아질 수 밖에 없는 환경이라 성능적인 측면에서 좋지 못한 레벨 디자인이 됩니다. 그렇기 때문에 레벨 디자인을 할 때 성능적인 측면도 고려해야 합니다.

이러한 이유들로 인해 최적화는 프로그래머, 아티스트, 기획자 모두 신경을 써야 한다고 말할 수 있습니다.
